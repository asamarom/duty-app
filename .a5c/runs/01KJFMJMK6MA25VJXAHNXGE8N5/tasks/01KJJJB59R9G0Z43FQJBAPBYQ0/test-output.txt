
> vite_react_shadcn_ts@0.0.0 test:run
> vitest run


[1m[46m RUN [49m[22m [36mv4.0.17 [39m[90m/home/ubuntu/duty-app[39m

 [32mâœ“[39m src/hooks/__tests__/useAssignmentRequests.test.tsx [2m([22m[2m11 tests[22m[2m)[22m[33m 612[2mms[22m[39m
[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2mfetches equipment data on mount
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21
[90m    at processTicksAndRejections (node:internal/process/task_queues:95:5)[39m

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2mchecks if a user can delete equipment based on creator and assignment
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2misWithinSameUnit[2m > [22m[2mreturns true when item and target are in the same unit
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2misWithinSameUnit[2m > [22m[2mreturns false when item and target are in different units
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2misWithinSameUnit[2m > [22m[2mreturns false when item has no current unit
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2misWithinSameUnit[2m > [22m[2mreturns false when assignment has no target unit
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)
Warning: An update to TestComponent inside a test was not wrapped in act(...).

When testing, code that causes React state updates should be wrapped into act(...):

act(() => {
  /* fire events that update state */
});
/* assert on the output */

This ensures that you're testing the behavior the user would see in the browser. Learn more at https://reactjs.org/link/wrap-tests-with-act
    at TestComponent (/home/ubuntu/duty-app/node_modules/@testing-library/react/dist/pure.js:328:5)

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2mrequestAssignment passes quantity to assignmentRequests Firestore doc
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2msets loading to false when an onSnapshot listener errors
[22m[39m[useEquipment] equipment error Error: Permission denied
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/__tests__/useEquipment.test.tsx:215:38
    at mockOnSnapshot [90m(file:///home/ubuntu/duty-app/[39mnode_modules/[4m@vitest/spy[24m/dist/index.js:285:34[90m)[39m
    at onSnapshot [90m(/home/ubuntu/duty-app/[39msrc/hooks/__tests__/useEquipment.test.tsx:40:41[90m)[39m
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:601:16
    at commitHookEffectListMount [90m(/home/ubuntu/duty-app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:23189:26[90m)[39m
    at commitPassiveMountOnFiber [90m(/home/ubuntu/duty-app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24970:11[90m)[39m
    at commitPassiveMountEffects_complete [90m(/home/ubuntu/duty-app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24930:9[90m)[39m
    at commitPassiveMountEffects_begin [90m(/home/ubuntu/duty-app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24917:7[90m)[39m
    at commitPassiveMountEffects [90m(/home/ubuntu/duty-app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:24905:3[90m)[39m
    at flushPassiveEffectsImpl [90m(/home/ubuntu/duty-app/[39mnode_modules/[4mreact-dom[24m/cjs/react-dom.development.js:27078:3[90m)[39m
Error fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2mrequestAssignment â€” client-side Firestore (TDD red phase)[2m > [22m[2mrequestAssignment creates assignmentRequest doc in Firestore directly
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2mrequestAssignment â€” client-side Firestore (TDD red phase)[2m > [22m[2mrequestAssignment sets equipment status to pending_transfer
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2mrequestAssignment â€” client-side Firestore (TDD red phase)[2m > [22m[2mrequestAssignment passes quantity in request doc
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2mrequestAssignment â€” client-side Firestore (TDD red phase)[2m > [22m[2mrequestAssignment does NOT call httpsCallable
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2mrequestAssignment â€” client-side Firestore (TDD red phase)[2m > [22m[2massignEquipment creates assignmentRequest doc in Firestore directly for admin direct assign
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21

[90mstderr[2m | src/hooks/__tests__/useEquipment.test.tsx[2m > [22m[2museEquipment Hook[2m > [22m[2mrequestAssignment â€” client-side Firestore (TDD red phase)[2m > [22m[2massignEquipment does NOT call httpsCallable
[22m[39mError fetching personnel record: TypeError: Cannot read properties of undefined (reading 'id')
    at fetchPersonnel [90m(/home/ubuntu/duty-app/[39msrc/hooks/useEquipment.tsx:91:54[90m)[39m
useUserBattalion: Firestore error TypeError: Cannot read properties of undefined (reading 'exists')
    at [90m/home/ubuntu/duty-app/[39msrc/hooks/useUserBattalion.tsx:42:21

 [32mâœ“[39m src/hooks/__tests__/useEquipment.test.tsx [2m([22m[2m14 tests[22m[2m)[22m[33m 575[2mms[22m[39m
 [32mâœ“[39m src/hooks/__tests__/useCanManageRole.test.tsx [2m([22m[2m8 tests[22m[2m)[22m[33m 328[2mms[22m[39m
 [31mâ¯[39m src/components/settings/SettingsTabs.test.tsx [2m([22m[2m0 test[22m[2m)[22m
 [31mâ¯[39m src/components/layout/MobileNav.test.tsx [2m([22m[2m0 test[22m[2m)[22m
 [32mâœ“[39m src/hooks/__tests__/useUserBattalion.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[33m 306[2mms[22m[39m
 [31mâ¯[39m src/pages/SettingsPage.test.tsx [2m([22m[2m0 test[22m[2m)[22m
 [32mâœ“[39m src/hooks/__tests__/useUnitsManagement.test.tsx [2m([22m[2m5 tests[22m[2m)[22m[32m 92[2mms[22m[39m
 [31mâ¯[39m src/components/settings/ApprovalsTab.test.tsx [2m([22m[2m0 test[22m[2m)[22m
 [31mâ¯[39m src/components/settings/UnitsTab.test.tsx [2m([22m[2m0 test[22m[2m)[22m
 [31mâ¯[39m src/components/settings/ProfileTab.test.tsx [2m([22m[2m0 test[22m[2m)[22m
 [32mâœ“[39m src/lib/version.test.ts [2m([22m[2m13 tests[22m[2m)[22m[32m 67[2mms[22m[39m

[31mâ¯â¯â¯â¯â¯â¯[39m[1m[41m Failed Suites 6 [49m[22m[31mâ¯â¯â¯â¯â¯â¯â¯[39m

[41m[1m FAIL [22m[49m src/pages/SettingsPage.test.tsx[2m [ src/pages/SettingsPage.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@testing-library/user-event" from "src/pages/SettingsPage.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/home/ubuntu/duty-app/src/pages/SettingsPage.test.tsx[39m:6:0
[33m  7  |  const __vi_import_3__ = await import("react-router-dom");
  8  |  const __vi_import_4__ = await import("@/contexts/LanguageContext");
  9  |  const __vi_import_5__ = await import("@testing-library/user-event");
     |                                       ^
  10 |  
  11 |  [39m
[90m [2mâ¯[22m TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2mâ¯[22m normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2mâ¯[22m node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2mâ¯[22m EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2mâ¯[22m loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[1/6]â¯[22m[39m

[41m[1m FAIL [22m[49m src/components/layout/MobileNav.test.tsx[2m [ src/components/layout/MobileNav.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@testing-library/user-event" from "src/components/layout/MobileNav.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/home/ubuntu/duty-app/src/components/layout/MobileNav.test.tsx[39m:7:0
[33m  26 |  const __vi_import_4__ = await import("@/contexts/LanguageContext");
  27 |  const __vi_import_5__ = await import("@/contexts/AdminModeContext");
  28 |  const __vi_import_6__ = await import("@testing-library/user-event");
     |                                       ^
  29 |  
  30 |  [39m
[90m [2mâ¯[22m TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2mâ¯[22m normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2mâ¯[22m node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2mâ¯[22m EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2mâ¯[22m loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[2/6]â¯[22m[39m

[41m[1m FAIL [22m[49m src/components/settings/ApprovalsTab.test.tsx[2m [ src/components/settings/ApprovalsTab.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@testing-library/user-event" from "src/components/settings/ApprovalsTab.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/home/ubuntu/duty-app/src/components/settings/ApprovalsTab.test.tsx[39m:6:0
[33m  17 |  const __vi_import_3__ = await import("react-router-dom");
  18 |  const __vi_import_4__ = await import("@/contexts/LanguageContext");
  19 |  const __vi_import_5__ = await import("@testing-library/user-event");
     |                                       ^
  20 |  
  21 |  [39m
[90m [2mâ¯[22m TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2mâ¯[22m normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2mâ¯[22m node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2mâ¯[22m EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2mâ¯[22m loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[3/6]â¯[22m[39m

[41m[1m FAIL [22m[49m src/components/settings/ProfileTab.test.tsx[2m [ src/components/settings/ProfileTab.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@testing-library/user-event" from "src/components/settings/ProfileTab.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/home/ubuntu/duty-app/src/components/settings/ProfileTab.test.tsx[39m:6:0
[33m  10 |  const __vi_import_3__ = await import("react-router-dom");
  11 |  const __vi_import_4__ = await import("@/contexts/LanguageContext");
  12 |  const __vi_import_5__ = await import("@testing-library/user-event");
     |                                       ^
  13 |  
  14 |  [39m
[90m [2mâ¯[22m TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2mâ¯[22m normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2mâ¯[22m node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2mâ¯[22m EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2mâ¯[22m loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[4/6]â¯[22m[39m

[41m[1m FAIL [22m[49m src/components/settings/SettingsTabs.test.tsx[2m [ src/components/settings/SettingsTabs.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@testing-library/user-event" from "src/components/settings/SettingsTabs.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/home/ubuntu/duty-app/src/components/settings/SettingsTabs.test.tsx[39m:87:36
[33m  112 |                  ]
  113 |              });
  114 |              const { user } = await import('@testing-library/user-event');
      |                                            ^
  115 |              const userEvent = user.setup();
  116 |              renderWithProviders(/*#__PURE__*/ __vi_import_0__.jsxDEV(__vi_import_2__.SettingsTabs, {}, void 0, false, {[39m
[90m [2mâ¯[22m TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2mâ¯[22m normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2mâ¯[22m node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2mâ¯[22m EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2mâ¯[22m loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[5/6]â¯[22m[39m

[41m[1m FAIL [22m[49m src/components/settings/UnitsTab.test.tsx[2m [ src/components/settings/UnitsTab.test.tsx ][22m
[31m[1mError[22m: Failed to resolve import "@testing-library/user-event" from "src/components/settings/UnitsTab.test.tsx". Does the file exist?[39m
  Plugin: [35mvite:import-analysis[39m
  File: [36m/home/ubuntu/duty-app/src/components/settings/UnitsTab.test.tsx[39m:6:0
[33m  14 |  const __vi_import_3__ = await import("react-router-dom");
  15 |  const __vi_import_4__ = await import("@/contexts/LanguageContext");
  16 |  const __vi_import_5__ = await import("@testing-library/user-event");
     |                                       ^
  17 |  
  18 |  [39m
[90m [2mâ¯[22m TransformPluginContext._formatLog node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28999:43[22m[39m
[90m [2mâ¯[22m TransformPluginContext.error node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28996:14[22m[39m
[90m [2mâ¯[22m normalizeUrl node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27119:18[22m[39m
[90m [2mâ¯[22m node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27177:32[22m[39m
[90m [2mâ¯[22m TransformPluginContext.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m27145:4[22m[39m
[90m [2mâ¯[22m EnvironmentPluginContainer.transform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m28797:14[22m[39m
[90m [2mâ¯[22m loadAndTransform node_modules/vitest/node_modules/vite/dist/node/chunks/config.js:[2m22670:26[22m[39m

[31m[2mâ¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯â¯[6/6]â¯[22m[39m


[2m Test Files [22m [1m[31m6 failed[39m[22m[2m | [22m[1m[32m6 passed[39m[22m[90m (12)[39m
[2m      Tests [22m [1m[32m56 passed[39m[22m[90m (56)[39m
[2m   Start at [22m 16:47:29
[2m   Duration [22m 31.99s[2m (transform 1.39s, setup 4.60s, import 1.57s, tests 1.98s, environment 18.19s)[22m

